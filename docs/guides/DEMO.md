# デモ手順書

AI Interview Tool（GRC Advisory AIヒアリングシステム）のデモンストレーション手順書です。

## 概要

| 項目 | 内容 |
|------|------|
| 対象 | クライアント・社内向けプロダクトデモ |
| 所要時間 | 約30分 |
| 架空企業 | テクノファイナンス株式会社（金融サービス、従業員約800名） |
| デモ範囲 | プロジェクト管理、テンプレート、AIインタビュー、レポート生成、ナレッジベース |

## 事前準備

### 1. 環境起動

```bash
# Docker Composeで全サービスを起動
docker-compose up -d

# 起動確認
docker-compose ps
```

デモデータは `SEED_DEMO=true`（docker-compose.ymlのデフォルト）により自動投入されます。

### 2. 手動でデモデータを投入する場合

```bash
# API経由
curl -X POST http://localhost:8001/api/v1/demo/seed

# CLI経由
python -m grc_backend.demo seed

# デモデータのリセット（削除→再投入）
curl -X POST http://localhost:8001/api/v1/demo/reset
```

### 3. デモデータ確認

```bash
# ステータス確認
curl http://localhost:8001/api/v1/demo/status
```

### 4. アクセスURL

| サービス | URL |
|---------|-----|
| フロントエンド | http://localhost:3001 |
| バックエンドAPI | http://localhost:8001 |
| APIドキュメント | http://localhost:8001/api/docs |

### 5. デモユーザーアカウント

全アカウントのパスワード: `demo1234`

| メール | 名前 | ロール | 用途 |
|--------|------|--------|------|
| admin@demo.example.com | 田中 太郎 | admin | メインデモ操作 |
| manager@demo.example.com | 鈴木 花子 | manager | プロジェクト管理デモ |
| interviewer@demo.example.com | 佐藤 健一 | interviewer | インタビュー実施デモ |
| viewer@demo.example.com | 山田 美咲 | viewer | 閲覧権限デモ |

---

## デモシナリオ

### Scene 1: ログイン＆ダッシュボード（3分）

**目的**: システムの全体像と統計情報を把握させる

1. ブラウザで http://localhost:3001 にアクセス
2. `admin@demo.example.com` / `demo1234` でログイン
3. ダッシュボードの表示を確認:
   - **3件**のアクティブプロジェクト
   - **7件**のタスク（完了4件、進行中2件、予定1件）
   - **5件**のインタビュー（完了3件、予定1件、進行中0件）
   - 最近のアクティビティ

**トークポイント**:
> 「ダッシュボードで全プロジェクトの進捗を一目で把握できます。
> 現在、J-SOX内部統制評価、コンプライアンス調査、サイバーリスクアセスメントの
> 3つのプロジェクトが並行して進行しています。」

---

### Scene 2: プロジェクト管理（5分）

**目的**: プロジェクト・タスク管理機能を紹介

1. サイドメニューから「案件管理」を開く
2. **「2025年度 J-SOX内部統制評価」** プロジェクトをクリック
3. プロジェクト詳細を確認:
   - 期間: 2025/4/1 〜 2025/9/30
   - 3つのタスク:
     - ✅ 購買プロセス内部統制ヒアリング（完了）
     - ✅ 売上プロセス内部統制ヒアリング（完了）
     - 🔄 IT全般統制評価ヒアリング（進行中）
4. 「新規タスク作成」ボタンで新規タスクの作成フローをデモ

**トークポイント**:
> 「GRCの実務に即した案件管理ができます。J-SOXの内部統制評価では、
> 業務プロセスごとにタスクを作成し、ヒアリングの進捗を管理します。
> 購買と売上の2プロセスは完了済み、IT統制が進行中です。」

---

### Scene 3: テンプレート管理（3分）

**目的**: AIインタビューの質問テンプレート機能を紹介

1. サイドメニューから「テンプレート」を開く
2. **「内部統制評価ヒアリングテンプレート」** を選択
3. テンプレート内容を確認:
   - 5つの質問カテゴリ（プロセス概要、統制活動、モニタリング、リスク評価）
   - 各質問のフォローアップ質問
   - テンプレート設定（最大時間、言語）
4. テンプレートのコピー機能をデモ

**トークポイント**:
> 「用途別のテンプレートを用意しておくことで、ヒアリングの品質を標準化できます。
> 内部統制評価、コンプライアンス調査、サイバーリスクなど、
> 各ユースケースに最適化された質問セットを管理できます。」

---

### Scene 4: 完了済みインタビュー閲覧（5分）

**目的**: AIインタビューの成果物（トランスクリプト・分析結果）を紹介

1. 「2025年度 J-SOX内部統制評価」→「購買プロセス内部統制ヒアリング」タスクを開く
2. 完了済みインタビューを選択
3. **トランスクリプト**を確認:
   - AIの質問と回答者の回答の対話形式
   - 購買プロセスの承認権限、相見積もり基準、三者分離原則、三点照合の詳細
4. **AI分析結果**を確認:
   - Key Findings（金額別承認権限、三者分離原則、三点照合）
   - Risks Identified（エビデンス管理、子会社基準、アクセス権限管理）
   - 統制有効性評価: partially_effective
   - 改善提言

**トークポイント**:
> 「AIが自動でヒアリング内容を分析し、主要な発見事項とリスクを抽出します。
> 購買プロセスでは三者分離や三点照合が整備されている一方、
> エビデンス管理やアクセス権限の棚卸しに課題があることが特定されました。」

5. 「コンプライアンス意識調査」プロジェクトの匿名インタビューも確認
   - 匿名モードでの回答表示（回答者情報が非表示）

---

### Scene 5: AIインタビュー実演（10分）★ メインデモ

**目的**: リアルタイムAIインタビューの実演

**前提**: AI Providerが設定済みであること（Ollama or Azure OpenAI等）

1. 「IT全般統制評価ヒアリング」タスクを開く
2. 「新規インタビュー開始」をクリック
3. インタビュー対象者を選択（小林 大輔 / 情報システム部 マネージャー）
4. **AIインタビューが開始**:
   - AIが最初の質問を表示
   - デモ担当者が回答を入力
   - AIが回答を分析し、フォローアップ質問を生成
   - 3-4ターンの対話をデモ
5. インタビューを終了
6. AIが自動でサマリと分析結果を生成

**デモ回答例（IT統制）**:
- Q: IT全般統制の管理体制を教えてください
- A: 「情報システム部が統括しており、アクセス管理はActive Directoryベースです。変更管理はJiraでチケット管理しています。」
- Q: アクセス権限の定期レビューはどのように実施していますか？
- A: 「四半期ごとにアクセス権限レビューを実施しています。ただし、特権IDの管理は改善が必要です。」

**トークポイント**:
> 「AIが文脈を理解して適切なフォローアップ質問を自動生成します。
> ヒアリングの経験が浅い担当者でも、一定品質の聞き取りが可能になります。
> 終了後は自動でサマリとリスク分析が生成されます。」

---

### Scene 6: レポート生成（3分）

**目的**: インタビュー結果からのレポート自動生成を紹介

1. 購買プロセスインタビューのレポートを開く
2. **業務記述書**（Process Document）を確認:
   - プロセスフロー（購買申請→承認→発注→検収→支払い）
   - 各ステップの統制活動
3. **リスクコントロールマトリクス（RCM）** を確認:
   - リスクと統制の対応関係
   - 統制の有効性評価
   - Gap（不備）の特定
4. **監査調書**を確認:
   - 監査目的、範囲、実施手続き
   - 発見事項と提言
5. レポートの承認フロー（Draft → Review → Approved → Published）

**トークポイント**:
> 「ヒアリング結果から業務記述書、RCM、監査調書を自動生成できます。
> 従来は1件のヒアリングに対して数時間かかっていた文書化作業が、
> AIにより大幅に効率化されます。」

---

### Scene 7: ナレッジベース（2分）

**目的**: 組織のナレッジ蓄積機能を紹介

1. サイドメニューから「ナレッジ」を開く
2. 蓄積されたナレッジを確認:
   - 購買プロセスの承認権限テーブル設計
   - 複合収益モデルの収益認識基準
   - ゼロトラストネットワーク移行の実践事例
3. キーワード検索をデモ（例: 「内部統制」「承認権限」）
4. タグによるフィルタリング

**トークポイント**:
> 「過去のヒアリングから得られた知見がナレッジとして蓄積されます。
> 類似案件の参考情報として活用でき、組織のGRC対応力の向上に貢献します。」

---

## 想定Q&A

### Q: 対応しているAIモデルは？
A: Azure OpenAI（GPT-5シリーズ）、AWS Bedrock（Claude）、GCP Vertex AI（Gemini）、
ローカルLLM（Ollama）に対応しています。企業のクラウド方針に合わせて選択可能です。

### Q: インタビューの言語は？
A: 日本語と英語に対応しています。多言語対応の拡張も可能です。

### Q: セキュリティは？
A: JWT認証、ロールベースアクセス制御（RBAC）、監査ログを実装しています。
データは企業のクラウド環境内に閉じて管理でき、外部へのデータ送信は行いません。

### Q: 匿名モードとは？
A: コンプライアンス意識調査等で使用する機能で、回答者の個人情報を
システムに記録しません。統計分析のみを目的とした安全な調査が可能です。

### Q: 既存の監査ツールとの連携は？
A: API経由でのデータ連携が可能です。監査調書やRCMのエクスポート機能も備えています。

### Q: オンプレミス環境での運用は？
A: Docker Composeによるデプロイに対応しており、
Ollama（ローカルLLM）を使用すればクラウドAPI不要で完全オンプレミス運用が可能です。

---

## トラブルシューティング

### デモデータが表示されない

```bash
# デモデータの状態確認
curl http://localhost:8001/api/v1/demo/status

# 投入されていない場合
curl -X POST http://localhost:8001/api/v1/demo/seed
```

### ログインできない

- パスワードは全アカウント共通 `demo1234`
- メールアドレスのドメインは `@demo.example.com`

### AIインタビューが動作しない

- AI Providerの設定を確認: `.env` の `AI_PROVIDER` と対応するAPIキー
- ローカル開発の場合は Ollama を使用:
  ```bash
  # Ollamaでプロファイル起動
  docker-compose --profile local-llm up -d

  # モデルをダウンロード
  docker exec ai-interviewer-ollama ollama pull gemma3:1b
  ```

### バックエンドが起動しない

```bash
# ログ確認
docker-compose logs backend

# PostgreSQLの接続確認
docker-compose exec postgres pg_isready
```

### デモデータをリセットしたい

```bash
curl -X POST http://localhost:8001/api/v1/demo/reset
```
